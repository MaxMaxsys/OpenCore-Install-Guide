<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Исправление Slide значений KASLR | Руководство по установке OpenCore</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="&#39;stylesheet" href="/OpenCore-Install-Guide/styles/website.css">
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/OpenCore-Install-Guide/assets/css/0.styles.f18ad3ba.css" as="style"><link rel="preload" href="/OpenCore-Install-Guide/assets/js/app.9cad88c7.js" as="script"><link rel="preload" href="/OpenCore-Install-Guide/assets/js/2.42e10b23.js" as="script"><link rel="preload" href="/OpenCore-Install-Guide/assets/js/50.2f92352b.js" as="script"><link rel="preload" href="/OpenCore-Install-Guide/assets/js/54.19e09354.js" as="script"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/10.dd68a1b2.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/11.dd40cc71.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/12.ca574dd6.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/13.4cfc0154.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/14.38b2ec72.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/15.632de368.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/16.11203fbd.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/17.f5bd3f0f.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/18.802b1efb.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/19.d23d6a57.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/20.0fc9e48f.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/21.558be064.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/22.8a90dca7.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/23.c752f562.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/24.cc30873f.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/25.3198766e.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/26.448d8fc6.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/27.4dcbae28.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/28.bcf7e8f7.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/29.d224e12d.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/3.7059968f.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/30.e82a69bd.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/31.481f3a81.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/32.5163c39f.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/33.1c71b1a9.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/34.6d1f9789.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/35.6b2762dc.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/36.504acf7f.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/37.d6d3fd4e.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/38.b74452fb.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/39.907f9c7e.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/4.ea31c3be.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/40.97f21f05.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/41.a30162a7.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/42.9d1ffdf1.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/43.5933b13f.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/44.c1f5263c.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/45.746fc4a5.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/46.ea7945ca.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/47.2e985cea.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/48.ba15d023.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/49.f6608184.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/5.486475a0.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/51.d4236f23.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/52.39cb39d4.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/53.bf8b2cfe.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/55.2f74ae6b.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/56.f33e1935.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/57.342b7de1.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/58.e2da78b0.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/59.1520735c.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/6.19170425.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/60.1ac442eb.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/61.c0f008ca.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/62.118213bd.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/63.f044a157.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/64.cab29637.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/65.597a1a1e.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/66.81877c26.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/67.7f13a231.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/68.3d72581a.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/69.51bfd57c.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/7.ee8f87d4.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/70.b3d80c29.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/71.9ec4f39a.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/72.02547851.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/73.1bc62597.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/74.aa9063c3.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/8.9076f0dd.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/9.69cce8e3.js">
    <link rel="stylesheet" href="/OpenCore-Install-Guide/assets/css/0.styles.f18ad3ba.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/OpenCore-Install-Guide/" class="home-link router-link-active"><img src="homepage.png" alt="Руководство по установке OpenCore" class="logo"> <span class="site-name can-hide">Руководство по установке OpenCore</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Руководства от Dortania</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">Руководства от Dortania</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://dortania.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Домашняя страница
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Getting-Started-With-ACPI/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Начало работы с ACPI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/OpenCore-Post-Install/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  После установки OpenCore
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/GPU-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GPU Buyers Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Wireless-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Wireless Buyers Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Anti-Hackintosh-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Anti Buyers Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <div class="nav-item"><a role="button" aria-label="Переключить на light тему" class="nav-link"><span>Изменить тему</span></a></div> <a href="https://github.com/shijuro/OpenCore-Install-Guide" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Руководства от Dortania</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">Руководства от Dortania</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://dortania.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Домашняя страница
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Getting-Started-With-ACPI/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Начало работы с ACPI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/OpenCore-Post-Install/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  После установки OpenCore
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/GPU-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GPU Buyers Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Wireless-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Wireless Buyers Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Anti-Hackintosh-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Anti Buyers Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <div class="nav-item"><a role="button" aria-label="Переключить на light тему" class="nav-link"><span>Изменить тему</span></a></div> <a href="https://github.com/shijuro/OpenCore-Install-Guide" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Вступление</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/prerequisites.html" class="sidebar-link">Начало работы с OpenCore</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/OpenCore-Install-Guide/extras/macos-limits" class="sidebar-heading clickable"><span>Аппаратные ограничения</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/OpenCore-Install-Guide/terminology.html" class="sidebar-link">Терминология</a></li><li><a href="/OpenCore-Install-Guide/why-oc.html" class="sidebar-link">Почему OpenCore лучше Clover или других?</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Создание USB</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/OpenCore-Install-Guide/installer-guide/" class="sidebar-heading clickable open"><span>Создание USB флешки</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/installer-guide/mac-install.html" class="sidebar-link">Создание установщика в macOS</a></li><li><a href="/OpenCore-Install-Guide/installer-guide/winblows-install.html" class="sidebar-link">Создание установщика в Windows</a></li><li><a href="/OpenCore-Install-Guide/installer-guide/linux-install.html" class="sidebar-link">Создание установщика в Linux</a></li></ul></section></li><li><a href="/OpenCore-Install-Guide/installer-guide/opencore-efi.html" class="sidebar-link">Добавление базовых файлов OpenCore</a></li><li><a href="/OpenCore-Install-Guide/ktext.html" class="sidebar-link">Сбор файлов</a></li><li><a href="https://dortania.github.io/Getting-Started-With-ACPI/" target="_blank" rel="noopener noreferrer" class="sidebar-link">Начало работы с ACPI (на английском)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li><a href="/OpenCore-Install-Guide/config.plist/" class="sidebar-link">Настройка config.plist</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Конфигурации</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Intel Desktop config.plist</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/config.plist/penryn.html" class="sidebar-link">Penryn</a></li><li><a href="/OpenCore-Install-Guide/config.plist/clarkdale.html" class="sidebar-link">Clarkdale</a></li><li><a href="/OpenCore-Install-Guide/config.plist/sandy-bridge.html" class="sidebar-link">Sandy Bridge</a></li><li><a href="/OpenCore-Install-Guide/config.plist/ivy-bridge.html" class="sidebar-link">Ivy Bridge</a></li><li><a href="/OpenCore-Install-Guide/config.plist/haswell.html" class="sidebar-link">Haswell</a></li><li><a href="/OpenCore-Install-Guide/config.plist/skylake.html" class="sidebar-link">Skylake</a></li><li><a href="/OpenCore-Install-Guide/config.plist/kaby-lake.html" class="sidebar-link">Kaby Lake</a></li><li><a href="/OpenCore-Install-Guide/config.plist/coffee-lake.html" class="sidebar-link">Coffee Lake</a></li><li><a href="/OpenCore-Install-Guide/config.plist/comet-lake.html" class="sidebar-link">Comet Lake</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Intel Laptop config.plist</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Intel HEDT config.plist</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>AMD Desktop config.plist</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Установка</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/installation/installation-process.html" class="sidebar-link">Процесс установки</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Решение проблем</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/troubleshooting/troubleshooting.html" class="sidebar-link">Общее устранение неполадок</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/troubleshooting/extended/opencore-issues.html" class="sidebar-link">Проблемы с загрузкой OpenCore</a></li><li><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html" class="sidebar-link">Проблемы с ядром</a></li><li><a href="/OpenCore-Install-Guide/troubleshooting/extended/userspace-issues.html" class="sidebar-link">Проблемы с Userspace</a></li><li><a href="/OpenCore-Install-Guide/troubleshooting/extended/post-issues.html" class="sidebar-link">Послеустановочные проблемы</a></li><li><a href="/OpenCore-Install-Guide/troubleshooting/extended/misc-issues.html" class="sidebar-link">Прочие проблемы</a></li></ul></section></li><li><a href="/OpenCore-Install-Guide/troubleshooting/debug.html" class="sidebar-link">Отладка OpenCore</a></li><li><a href="/OpenCore-Install-Guide/troubleshooting/boot.html" class="sidebar-link">Понимание процесса загрузки macOS</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>После установки (на английском)</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="https://dortania.github.io/OpenCore-Post-Install/" target="_blank" rel="noopener noreferrer" class="sidebar-link">После установки<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Универсально</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Особенности ноутбуков</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Косметика</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Multiboot</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Разное</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Дополнительно</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/extras/kaslr-fix.html" aria-current="page" class="active sidebar-link">Исправление Slide значений KASLR</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/extras/kaslr-fix.html#что-же-такое-kaslr" class="sidebar-link">Что же такое KASLR?</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/extras/kaslr-fix.html#и-для-кого-эта-информация" class="sidebar-link">И для кого эта информация?</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/extras/kaslr-fix.html#так-как-же-мне-это-исправить" class="sidebar-link">Так как же мне это исправить?</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/extras/kaslr-fix.html#подготовка-bios" class="sidebar-link">Подготовка BIOS</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/extras/kaslr-fix.html#тестовая-загрузка" class="sidebar-link">Тестовая загрузка</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/extras/kaslr-fix.html#нахождение-slide-значения" class="sidebar-link">Нахождение Slide значения</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/extras/kaslr-fix.html#использование-devirtualisemmio" class="sidebar-link">Использование DevirtualiseMmio</a></li></ul></li><li><a href="/OpenCore-Install-Guide/extras/spoof.html" class="sidebar-link">Отключение GPU</a></li><li><a href="/OpenCore-Install-Guide/extras/big-sur/" class="sidebar-link">OpenCore и macOS 11: Big Sur</a></li><li><a href="https://github.com/dortania/OpenCore-Install-Guide/tree/master/clover-conversion" target="_blank" rel="noopener noreferrer" class="sidebar-link">Конверсия Clover<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li><a href="/OpenCore-Install-Guide/extras/smbios-support.html" class="sidebar-link">Выбор правильного SMBIOS</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Прочее</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/CONTRIBUTING.html" class="sidebar-link">Поддержка руководства</a></li><li><a href="/OpenCore-Install-Guide/misc/credit.html" class="sidebar-link">Благодарности</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-succinct-content content__default"><h1 id="исправление-slide-значении-kaslr"><a href="#исправление-slide-значении-kaslr" class="header-anchor">#</a> Исправление Slide значений KASLR</h1> <ul><li>Поддерживаемая версия: 0.6.6</li></ul> <p>Этот раздел предназначен для пользователей, которые хотят понять и исправить ошибки &quot;Couldn't allocate runtime area&quot;. Чаще всего это встречается на Z390, X99 и X299. Этот раздел также поддерживает Clover, поскольку информация для него также будет полезна.</p> <h2 id="что-же-такое-kaslr"><a href="#что-же-такое-kaslr" class="header-anchor">#</a> Что же такое KASLR?</h2> <p>Что ж, KASLR расшифровывается как Kernel adress space layout randomization (рус. - Рандомизация размещения/компоновки адресного пространства ядра), используется в целях безопасности. В частности, это делает более сложным определение расположения важных объектов в памяти, поскольку это всегда случайное значение как между компьютерами, так и между загрузками. <a href="https://lwn.net/Articles/569635/" target="_blank" rel="noopener noreferrer">Более подробное описание KASLR<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Это становится проблемой, когда вы вводите (introduce) устройства либо с небольшими Memory Map, либо же просто вводите слишком много устройств. Вероятно, есть место для работы ядра, и также есть свободное место, куда ядро не помещается полностью. Здесь подходит <code>slide=xxx</code>. Вместо того, чтобы позволить macOS выбирать случайную область для работы при каждой загрузке, мы ограничим ее той областью, которая, как мы знаем, будет работать.</p> <h2 id="и-для-кого-эта-информация"><a href="#и-для-кого-эта-информация" class="header-anchor">#</a> И для кого эта информация?</h2> <p>Как уже упомяналось ранее, это для пользователей, у которых нет достаточного места для ядра или происходит перемещение в слишком маленькое место. Как правило, при загрузке вы столкнетесь с аналогичной ошибкой:</p> <div class="language- extra-class"><pre class="language-text"><code>Error allocating 0x1197b pages at 0x0000000017a80000 alloc type 2
Couldn't allocate runtime area
</code></pre></div><p>С различными вариациями:</p> <div class="language- extra-class"><pre class="language-text"><code>Only 244/256 slide values are usable!
</code></pre></div><p>Или даже краш во время работы macOS:</p> <div class="language- extra-class"><pre class="language-text"><code>panic(cpu 6 caller 0xffffff801fc057ba): a freed zone element has been modified in zone kalloc.4096: expected 0x3f00116dbe8a46f6 but found 0x3f00116d00000000
</code></pre></div><p>Веселая часть этих ошибок заключается в том, что они могут быть случайными, а также причина, почему 20-кратное включение и выключение питания вашего ПК также может решить проблему, но только временно.</p> <p>Забавный факт: Поиск области для работы занимает около 31 мс, а ручная установка слайд значения может в среднем сократить время загрузки на 0.207%!!!</p> <h2 id="так-как-же-мне-это-исправить"><a href="#так-как-же-мне-это-исправить" class="header-anchor">#</a> Так как же мне это исправить?</h2> <p>Реальное решение этой проблемы довольно простое, процесс одинаков для пользователей Clover и OpenCore. Что вам понадобится:</p> <ul><li><p><strong>Пользователям Clover</strong>:</p> <ul><li>Clover Shell(у большинства пользователей он уже есть, обычно называется shell64.efi или как-то по-другому)
<ul><li>Это можно найти в <code>EFI/CLOVER/tools</code></li> <li>Если у вас его нет, вы можете получить его из <a href="https://github.com/CloverHackyColor/CloverBootloader/releases" target="_blank" rel="noopener noreferrer">CLOVERV2-xxxx.zip<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><a href="https://github.com/CloverHackyColor/CloverBootloader/releases/latest" target="_blank" rel="noopener noreferrer">OcQuirks<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> начиная с Clover v5120, скачав CloverV2-xxxx.zip, он будет содержать его по пути /CloverV2/EFI/CLOVER/drivers/off/UEFI/MemoryFix/OcQuirks.efi, он должен быть вкупе с OpenRuntime.efi, который предоставляется по такому же пути
(Не смешивайте AptioFix'ы и не используйте OsxAptioFixDrvX или AptioMemoryFix, в этом руководстве поддерживается только OcQuirks)
<ul><li>Убедитесь, что это находится в папке <code>EFI/CLOVER/drivers/UEFI</code></li></ul></li> <li>OpenRuntime.efi(Идёт в комплекте с CloverV2)
<ul><li>Убедитесь, что это находится в папке <code>EFI/CLOVER/drivers/UEFI</code></li></ul></li> <li><s>OcQuirks.plist</s>(Входит в config.plist от Clover, в последнем разедел после <code>SystemParameters</code>). Чтобы изменить OpenRuntime квирки, проверьте в конце config-sample.plist из CloverV2-xxxx.zip, поскольку Slice объединил OcQuirks.plist от ReddestDream в config.plist Clover'а</li></ul></li> <li><p><strong>Пользователям OpenCore</strong>:</p> <ul><li><a href="https://github.com/acidanthera/OpenCorePkg/releases" target="_blank" rel="noopener noreferrer">OpenRuntime<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/acidanthera/OpenCorePkg/releases" target="_blank" rel="noopener noreferrer">OpenShell<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>(Не забудьте включить это в разделе <code>Root -&gt; Misc -&gt; Tools</code>)</li></ul></li></ul> <p>И нам также нужно настроить наш config.plist -&gt; Booter(для OpenCore) или OcQuirks.plist(для Clover):</p> <ul><li><strong>AvoidRuntimeDefrag</strong>: YES
<ul><li>Исправляет рантайм сервисы UEFI, такие как дата, время, NVRAM, управление питанием, т.д.</li></ul></li> <li><strong>DevirtualiseMmio</strong>: YES
<ul><li>Уменьшает объем Stolen памяти, расширяет возможные значения для <code>slide=N</code>, и очень полезен при устранении проблем с выделением памяти (Memory Allocation) на Z390.</li></ul></li> <li><strong>EnableSafeModeSlide</strong>: YES
<ul><li>Позволяет использовать слайд значения в безопасном режиме</li></ul></li> <li><strong>ProtectUefiServices</strong>: NO
<ul><li>Защищает UEFI сервисы от переопределения прошивкой, в основном актуально для виртуальных машин, 300 серии и более новых систем, таких как Ice Lake и Comet Lake</li></ul></li> <li><strong>ProvideCustomSlide</strong>: YES
<ul><li>Это даёт уверенность, что ядро будет выбирать только хорошие регионы и избегать тех, которые могут привести к сбоям загрузки. Оно по-прежнему выбирает случайно, но не включает плохие регионы при рандомизации.</li></ul></li> <li><strong>RebuildAppleMemoryMap</strong>: YES
<ul><li>Создает Memory Map совместимую с macOS, может сломаться с некоторыми OEM прошивками ноутбуков, поэтому если вы получили сбой ранней загрузки - отключите это. Это гарантирует, что наша Memory Map будет соответствовать соответствовать тому, что ожидает ядро.</li></ul></li></ul> <h2 id="подготовка-bios"><a href="#подготовка-bios" class="header-anchor">#</a> Подготовка BIOS</h2> <p>Причина, по которой нам нужно сбросить Memory Map, заключается в том, что мы хотим, чтобы она была более детерминированной, имеется ввиду, чтобы при каждой загрузке было меньше вариаций, поэтому у нас будет меньше крайних случаев (Memory Map не всегда согласованы при загрузке). Для подготовки:</p> <ul><li>Обновите BIOS(чрезвычайно важно, поскольку известно, что ранние версии BIOS имеют проблемы с Memory Map, в особенности Z390)</li> <li>Сбросьте CMOS</li> <li>Включите необходимые настройки в BIOS:
<ul><li><code>Above4GDecoding</code>: Позволяет устройствам использовать области памяти размером более 4 ГБ, что означает, что в macOS будет больше места для размещения; может быть проблематичным на некоторых X99, X299, поэтому рекомендуется тестировать с и без.
<ul><li>Примечание: В BIOS поддерживаемых Resizable BAR Support, включение Above4G разблокирует эту опцию. Убедитесь, что BAR support отключен, если эта опция конечно же присутствует.</li></ul></li> <li><code>Boot Options -&gt; Windows8.1/10 mode</code>: Это гарантирует, что не будет загружаться старый устаревший мусор. Интересный факт: <code>other OS</code> разработан только для загрузки старых версий Windows, а не для других ОС</li></ul></li> <li>Отключите как можно больше ненужных устройств в BIOS (это означает, что при каждой загрузке будет меньше изменений в Memory Map, и поэтому меньше шансов на сбой загрузки). Общие настройки:
<ul><li><code>CSM</code>: Для поддержки Legacy, добавляет кучу ненужного нам мусора. Это также может сломать Shell, и вы не сможете загрузиться в него.</li> <li><code>Intel SGX</code>: Software Guard Extensions, занимает много места и ничего не делает в macOS.</li> <li><code>Parallel Port</code>: macOS даже не видит параллельные порты.</li> <li><code>Serial Port</code>: Хотелось бы знать, насколько много тех, кто отлаживает ядро...</li> <li><code>iGPU</code>: В некоторых системах такие раздутые Memory Map, что iGPU просто не влезает.</li> <li><code>Thunderbolt</code>: У многих хаков нет рабочего Thunderbolt, платы, у которых нет Thunderbolt, но имеют эту опцию, просто тратят больше места.</li> <li><code>LED lighting</code>: Извини, приятель, время уходить.</li> <li><code>Legacy USB</code>: Больше Legacy Чепухи.</li></ul></li></ul> <h2 id="тестовая-загрузка"><a href="#тестовая-загрузка" class="header-anchor">#</a> Тестовая загрузка</h2> <p>С нашими скорректированными настройками EFI, config.plist и BIOS, пришло время опробовать наши новые настройки. Если у вас все еще есть проблемы, похоже, нам нужно глубоко погрузиться и рассчитать значение нашего Slide</p> <h2 id="нахождение-slide-значения"><a href="#нахождение-slide-значения" class="header-anchor">#</a> Нахождение Slide значения</h2> <p>Теперь вам нужно открыть EFI Shell в выбранном вами менеджере загрузок и запустить <code>memmap</code>. Это даст вам список всех страниц и их размеров. Вот тут-то и начинается веселье.</p> <p>Пример того, что вы увидите:</p> <table><thead><tr><th style="text-align:left;">Type</th> <th style="text-align:left;">Start</th> <th style="text-align:left;">End</th> <th style="text-align:left;"># Pages</th> <th style="text-align:left;">Attributes</th></tr></thead> <tbody><tr><td style="text-align:left;">RT_Data</td> <td style="text-align:left;">0000000000000000</td> <td style="text-align:left;">0000000000000FFF</td> <td style="text-align:left;">0000000000000001</td> <td style="text-align:left;">800000000000000F</td></tr> <tr><td style="text-align:left;">Available</td> <td style="text-align:left;">0000000000001000</td> <td style="text-align:left;">0000000000057FFF</td> <td style="text-align:left;">0000000000000057</td> <td style="text-align:left;">000000000000000F</td></tr> <tr><td style="text-align:left;">Reserved</td> <td style="text-align:left;">0000000000058000</td> <td style="text-align:left;">0000000000058FFF</td> <td style="text-align:left;">0000000000000001</td> <td style="text-align:left;">000000000000000F</td></tr> <tr><td style="text-align:left;">Available</td> <td style="text-align:left;">0000000000059000</td> <td style="text-align:left;">000000000008FFFF</td> <td style="text-align:left;">0000000000000037</td> <td style="text-align:left;">000000000000000F</td></tr> <tr><td style="text-align:left;">RT_Code</td> <td style="text-align:left;">0000000000090000</td> <td style="text-align:left;">0000000000090FFF</td> <td style="text-align:left;">0000000000000001</td> <td style="text-align:left;">800000000000000F</td></tr> <tr><td style="text-align:left;">Available</td> <td style="text-align:left;">0000000000091000</td> <td style="text-align:left;">000000000009DFFF</td> <td style="text-align:left;">000000000000000D</td> <td style="text-align:left;">000000000000000F</td></tr> <tr><td style="text-align:left;">Reserved</td> <td style="text-align:left;">000000000009E000</td> <td style="text-align:left;">000000000009FFFF</td> <td style="text-align:left;">0000000000000002</td> <td style="text-align:left;">000000000000000F</td></tr> <tr><td style="text-align:left;">Available</td> <td style="text-align:left;">0000000000100000</td> <td style="text-align:left;">000000005B635FFF</td> <td style="text-align:left;">000000000005B536</td> <td style="text-align:left;">000000000000000F</td></tr> <tr><td style="text-align:left;">BS_Data</td> <td style="text-align:left;">000000005B636000</td> <td style="text-align:left;">000000005B675FFF</td> <td style="text-align:left;">0000000000000040</td> <td style="text-align:left;">000000000000000F</td></tr> <tr><td style="text-align:left;">Available</td> <td style="text-align:left;">000000005B676000</td> <td style="text-align:left;">000000006AF77FFF</td> <td style="text-align:left;">000000000000F902</td> <td style="text-align:left;">000000000000000F</td></tr> <tr><td style="text-align:left;">LoaderCode</td> <td style="text-align:left;">000000006AF78000</td> <td style="text-align:left;">000000006B155FFF</td> <td style="text-align:left;">00000000000001DE</td> <td style="text-align:left;">000000000000000F</td></tr> <tr><td style="text-align:left;">BS_Data</td> <td style="text-align:left;">000000006B156000</td> <td style="text-align:left;">000000006B523FFF</td> <td style="text-align:left;">00000000000003CE</td> <td style="text-align:left;">000000000000000F</td></tr> <tr><td style="text-align:left;">ACPI_NVS</td> <td style="text-align:left;">000000006B524000</td> <td style="text-align:left;">000000006B524FFF</td> <td style="text-align:left;">0000000000000001</td> <td style="text-align:left;">000000000000000F</td></tr> <tr><td style="text-align:left;">BS_Data</td> <td style="text-align:left;">000000006B526000</td> <td style="text-align:left;">000000006B625FFF</td> <td style="text-align:left;">0000000000000100</td> <td style="text-align:left;">000000000000000F</td></tr> <tr><td style="text-align:left;">Available</td> <td style="text-align:left;">000000006B626000</td> <td style="text-align:left;">000000006B634FFF</td> <td style="text-align:left;">000000000000000F</td> <td style="text-align:left;">000000000000000F</td></tr></tbody></table> <p>Теперь вам может быть интересно, как, черт возьми, мы конвертируем это в значение слайда, ну, это довольно просто. Нас интересует самое наибольшее доступное значение в столбце <code>Start</code>. В этом примере мы видим, что <code>000000006B626000</code> является нашим самым большим значением, обратите внимание, что они находятся в HEX, поэтому, если есть несколько значений, близких друг к другу, вам может потребоваться конвертировать их в десятичное значение. Для вычисления Slide значение (встроенный калькулятор macOS имеет функцию программирования, нажав ⌘ + 3):</p> <p><code>000000006B626000</code> = <code>0x6B626000</code></p> <p>(<code>0x6B626000</code> - <code>0x100000</code>)/<code>0x200000</code> = <code>0x35A</code></p> <p>И чтобы убедиться, что это правильно:</p> <p><code>0x100000</code> + (<code>0x35A</code> * <code>0x200000</code>) = <code>0x6B500000</code></p> <p>Всякий раз, когда возвращаемое значение <strong>не</strong> оригинальное (<code>0x6B500000</code> против <code>0x6B626000</code>), просто добавьте +1 к конечному Slide значению. Это связано с округлением. Так, например, конвертированный в десятичное счисление <code>0x35A</code> становится <code>858</code>, а +1 даст вам <code>slide=859</code>.</p> <blockquote><p>Но подождите, это же больше 256!</p></blockquote> <p>Это верно. Это вызвано Memory Map включающими в себя сектора <code>Above4GDecoding</code>, которые не могут быть использованы. Поэтому вам нужно будет спускаться вниз по списку, пока вы не найдете небольшое достаточное значение(для нас, это будет <code>0000000000100000</code>)</p> <p>И чтобы было немного яснее, вот формула:</p> <p>(HEX - <code>0x100000</code>)/<code>0x200000</code> = Значение Slide в HEX</p> <p><code>0x100000</code> + (Значение Slide в HEX * <code>0x200000</code>) = Ваше изначальное HEX значение(если нет, то добавьте +1 к Slide значению)</p> <p>Теперь перейдите в свой config.plist и добавьте своё слайд значение к остальным аргументам загрузки(для нас, это будет <code>slide=0</code> при использовании <code>0x100000</code>). Если это значение по-прежнему выдаёт вам ошибки, вы можете перейти ко второму по велечине <code>Start</code> значению и так далее.</p> <p>Иногда вы можете обнаружить, что при вычислении слайда, вы получаете сверхмалые значения, такие как <code>slide=-0.379150390625</code>, когда это происходит, округлите это до <code>slide=0</code>.</p> <p>А для пользователей, у которых возникают проблемы с поиском значения слайда, вы можете также ввести <code>$slide [вставьте наибольшее значение #Pages]</code> в канале #Sandbox на <a href="https://discord.gg/u8V7N5C" target="_blank" rel="noopener noreferrer">Discord-сервере r/Hackintosh<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>Но это таааак тяжело</p></blockquote> <p>Ну, не волнуйтесь, ведь есть более простое решение. После запуска <code>memmap</code> в оболочке запустите:</p> <div class="language- extra-class"><pre class="language-text"><code>shell&gt; fs0: //replace with your USB

fs0:\&gt; dir //to verify this is the right directory, if not try fs1 and so on

Directory of fs0:\
01/01/01 3:30p   EFI

fs0:\&gt; memmap &gt; memmap.txt
</code></pre></div><p>Это добавит файл <code>memmap.txt</code> в корень вашего EFI, после чего вы сможете перетащить в канал #Sandbox Discord-сервера r/Hackintosh и написать <code>$slide [вставьте ссылку на memmap.txt]</code></p> <h2 id="использование-devirtualisemmio"><a href="#использование-devirtualisemmio" class="header-anchor">#</a> Использование DevirtualiseMmio</h2> <p>DevirtualiseMmio - довольно интересный квирк, особенно в том, что он преодолевает огромное препятствие с многими системами PCI устройств, такими как некоторые Z390 платы и практические все HEDT платы, такие как X99 и X299. Как это происходит? Он берет MMIO области и удаляет рантайм атрибуты, позволяя тем самым использовать их в качестве пространства для удобного размещения ядра. В сочетании с квирком <code>ProvideCustomSlide</code>, мы можем сохранить функцию безопасности слайда, а также получить загружаемую машину.</p> <p>Для чрезвычайно проблематичных систем, таких как Threadripper TRX40 19H, нам нужно найти определенные обрасти, которые не требуются для правильной работы. Вот тут-то и вступает в игру <code>MmioWhitelist</code>. Обратите внимание, что белый список не требуется для большинства систем.</p> <p>Если вы запустите отладочную версию OpenCore со включенным DevirtualiseMmio, вы заметите в своих логах это:</p> <div class="language- extra-class"><pre class="language-text"><code>21:495 00:009 OCABC: MMIO devirt start
21:499 00:003 OCABC: MMIO devirt 0x60000000 (0x10000 pages, 0x8000000000000001) skip 0
21:503 00:003 OCABC: MMIO devirt 0xFE000000 (0x11 pages, 0x8000000000000001) skip 0
21:506 00:003 OCABC: MMIO devirt 0xFEC00000 (0x1 pages, 0x8000000000000001) skip 0
21:510 00:003 OCABC: MMIO devirt 0xFED00000 (0x1 pages, 0x8000000000000001) skip 0
21:513 00:003 OCABC: MMIO devirt 0xFEE00000 (0x1 pages, 0x800000000000100D) skip 0
21:516 00:003 OCABC: MMIO devirt 0xFF000000 (0x1000 pages, 0x800000000000100D) skip 0
21:520 00:003 OCABC: MMIO devirt end, saved 278608 KB
</code></pre></div><ul><li>Примечание: См. <a href="/OpenCore-Install-Guide/troubleshooting/debug.html">Отладка OpenCore</a> о том, как включить логирование в файл</li></ul> <p>Итак, у нас есть 6 регионов, через которые нам нужно пройти и посмотреть, какие из них плохие. Лучше всего заблокировать все MMIO области <em>кроме</em> одного и попробовать каждый регион, чтобы получить список хороших регионов.</p> <p>Теперь давайте возьмем вышеприведенный пример и создадим наш собственный MmioWhitelist, нам нужно сначала преобразовать адрес из шестнадцатеричного в десятичное значение:</p> <ul><li>MMIO devirt 0x60000000 -&gt; 1610612736</li> <li>MMIO devirt 0xFE000000 -&gt; 4261412864</li> <li>MMIO devirt 0xFEC00000 -&gt; 4273995776</li> <li>MMIO devirt 0xFED00000 -&gt; 4275044352</li> <li>MMIO devirt 0xFEE00000 -&gt; 4276092928</li> <li>MMIO devirt 0xFF000000 -&gt; 4278190080</li></ul> <p>Когда все сделано, должно выглядеть примерно так:</p> <p><img src="/OpenCore-Install-Guide/assets/img/mmio-white.0ee7b5c7.png" alt=""></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/shijuro/OpenCore-Install-Guide/edit/master/src/extras/kaslr-fix.md" target="_blank" rel="noopener noreferrer">Помогите нам улучшить эту страницу!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Последнее обновление:</span> <span class="time">час назад</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ⟵
      <a href="https://dortania.github.io/OpenCore-Post-Install/misc/nvram" target="_blank" rel="noopener noreferrer" class="prev">
        Эмулированный NVRAM

        <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></span> <span class="next"><a href="/OpenCore-Install-Guide/extras/spoof.html">
        Отключение GPU
      </a>
      ⟶
    </span></p></div> </main></div><div class="global-ui"><div style="visibility:hidden;display:none;"></div><!----></div></div>
    <script src="/OpenCore-Install-Guide/assets/js/app.9cad88c7.js" defer></script><script src="/OpenCore-Install-Guide/assets/js/2.42e10b23.js" defer></script><script src="/OpenCore-Install-Guide/assets/js/50.2f92352b.js" defer></script><script src="/OpenCore-Install-Guide/assets/js/54.19e09354.js" defer></script>
  </body>
</html>
